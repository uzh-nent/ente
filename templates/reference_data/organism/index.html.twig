{% extends '_content.html.twig' %}

{% block title %}{{ 'organisms.title'|trans }}{% endblock %}
{% block description %}{{ 'organisms.description'|trans }}{% endblock %}

{% trans_default_domain "reference_data" %}
{% import "macros/components.html.twig" as components %}

{% block inner_content %}
    <p>
        <a class="btn btn-outline-primary"
           href="{{ path("reference_data_organism_new") }}">
            <i class="fas fa-plus"></i>
            {{ "organism_new.title"|trans }}
        </a>
    </p>
    <table class="table table-striped table-hover datatable border">
        <thead>
        <tr>
            <th class="w-minimal">{{ "Organism group"|trans({}, "entity_organism") }}</th>
            <th>{{ "enum.title"|trans({}, "enum_pathogen") }}</th>
            <th>{{ "entity.title"|trans({}, "entity_organism") }}</th>
            <th class="w-minimal" data-orderable="false"></th>
        </tr>
        </thead>
        <tbody>
        {% for organism in organisms %}
            <tr>
                <td>
                    {% if organism.organismGroup %}
                        <span class="badge bg-cyan">
                            {{ organism.organismGroup }}
                        </span>
                    {% endif %}
                </td>
                <td>{{ organism.pathogen|trans }}</td>
                <td>
                    {{ components.render_code(organism) }}
                    {{ components.render_hideable(organism) }}
                </td>
                <td class="w-minimal">
                    <a class="btn btn-outline-secondary"
                       href="{{ path("reference_data_organism_edit", {"organism" : organism.id}) }}">
                        <i class="fas fa-edit"></i>
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
